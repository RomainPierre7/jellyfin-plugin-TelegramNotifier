<div id="TelegramNotifierConfigPage" data-role="page" class="page type-interior pluginConfigurationPage"
    data-require="emby-input,emby-button,emby-select,emby-checkbox" data-controller="__plugin/Telegram Notifier.js">
    <div data-role="content">
        <div class="content-primary">
            <form id="TelegramNotifierConfigForm">
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label class="emby-checkbox-label">
                        <input id="EnablePlugin" name="EnablePluginCheckBox" type="checkbox" is="emby-checkbox" />
                        <span>Enable Plugin</span>
                    </label>
                </div>
                <div class="label">
                    You can find a guide in the "Use the plugin" section of the README file of the project. A
                    troubleshooting guide is also available.
                    <a is="emby-linkbutton" rel="noopener noreferrer"
                        class="raised button-alt headerHelpButton emby-button" target="_blank"
                        href="https://github.com/RomainPierre7/jellyfin-plugin-TelegramNotifier"> README (GitHub) </a>
                </div>
                <br>
                <div class="label">
                    If you find value in this project, consider giving it a star ⭐ on GitHub. This helps others to
                    discover the project too!
                </div>
                <div class="label">
                    You can also support me here! <a is="emby-linkbutton" rel="noopener noreferrer"
                        class="raised button-alt headerHelpButton emby-button" target="_blank"
                        href="https://ko-fi.com/B0B8112Y0Y"> Support me </a>
                </div>
                <div class="sectionTitleContainer flex align-items-center">
                    <h2>Configuration</h2>
                </div>
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="ServerUrl">Server URL</label>
                    <input id="ServerUrl" name="ServerUrl" type="text" is="emby-input" />
                    <div class="fieldDescription">Insert the url of the jellyfin server (ex: localhost:8096,
                        192.168.1.2:8096, jellyfin.myDomain.com, ...) </div>
                    <div class="fieldDescription">Warning: Do not include http/https. This parameter is only used to
                        find image metadata. If a notification type doesn't work, you can check the
                        logs to see if the image URL is correct.</div>
                </div>
                <div class="inputContainer">
                    <div class="selectContainer">
                        <label class="selectLabel" for="userToConfigure">User to configure</label>
                        <select id="userToConfigure" name="userToConfigure" class="emby-select-withcolor emby-select">
                        </select>
                        <div class="fieldDescription">Select the user you want to configure.</div>
                    </div>
                </div>
                <div class="sectionTitleContainer flex align-items-center">
                    <h3>---------- Telegram Bot Configuration ----------</h3>
                </div>
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="BotToken">Bot token</label>
                    <input id="BotToken" name="BotToken" type="text" is="emby-input" />
                    <div class="fieldDescription">Insert the telegram bot token here. </div>
                </div>
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="ChatId">Chat ID</label>
                    <input id="ChatId" name="ChatId" type="text" is="emby-input" />
                    <div class="fieldDescription"> Insert the telegram chat id here. </div>
                </div>
                <div class="inputContainer">
                    <label class="inputLabel inputLabelUnfocused" for="ThreadId">Thread ID</label>
                    <input id="ThreadId" name="ThreadId" type="text" is="emby-input" />
                    <div class="fieldDescription"> Insert the thread id if you use a group using topics/threads.
                        Otherwise let it blank. </div>
                </div>
                <div>
                    <button id="testButton" is="emby-button" class="raised button block emby-button">
                        <span>Test bot configuration</span>
                    </button>
                </div>
                <div class="sectionTitleContainer flex align-items-center">
                    <h3>---------- Notification Configuration ---------- |Save at the end ↓|</h3>
                </div>
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label class="emby-checkbox-label">
                        <input id="EnableUser" name="EnableUserCheckBox" type="checkbox" is="emby-checkbox" />
                        <span>Enable notifications for this user</span>
                    </label>
                </div>
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label class="emby-checkbox-label">
                        <input id="SilentNotification" name="SilentNotificationCheckBox" type="checkbox"
                            is="emby-checkbox" />
                        <span>Silent notifications for this user</span>
                    </label>
                </div>
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label class="emby-checkbox-label">
                        <input id="DoNotMentionOwnActivities" name="DoNotMentionOwnActivitiesCheckBox" type="checkbox"
                            is="emby-checkbox" />
                        <span>Do not notify user's own activities</span>
                    </label>
                </div>
                <div class="checkboxContainer checkboxContainer-withDescription">
                    <label class="emby-checkbox-label">
                        <input id="KeepSerieImage" name="KeepSerieImageCheckBox" type="checkbox" is="emby-checkbox" />
                        <span>Keep series image instead of episode image for episode notifications</span>
                    </label>
                </div>
                <template id="template-notification-type">
                    <label class="checkboxContainer" style="margin-bottom: 0;">
                        <input is="emby-checkbox" type="checkbox" data-name="notificationTypeValue" />
                        <span data-name="notificationTypeName"></span>
                    </label>
                    <div>
                        <button class="edit-template-button raised" is="emby-button"
                            style="top: 0; margin-bottom: 2em; cursor: pointer;">
                            <span>Edit template</span>
                        </button>
                        <button class="reset-template-button raised" style="display: none;" is="emby-button">
                            <span>Reset template</span>
                        </button>
                        <textarea data-name="txtTemplate"
                            style="width: 100%; height: 150px; display: none; margin-bottom: 2em;"></textarea>
                    </div>
                </template>
                <template id="template-notification-type-without-textarea">
                    <label class="checkboxContainer">
                        <input is="emby-checkbox" type="checkbox" data-name="notificationTypeValue" />
                        <span data-name="notificationTypeName"></span>
                    </label>
                </template>
                <template id="template-notification-subtype">
                    <label class="checkboxContainer" style="margin-left: 4em; margin-bottom: 0;">
                        <input is="emby-checkbox" type="checkbox" data-name="notificationSubtypeValue" />
                        <span data-name="notificationSubtypeName"></span>
                    </label>
                    <div>
                        <button class="edit-template-button raised" is="emby-button"
                            style="top: 0; margin-left: 4em; margin-bottom: 2em; cursor: pointer;">
                            <span>Edit template</span>
                        </button>
                        <button class="reset-template-button raised" style="display: none; margin-left: 4em;"
                            is="emby-button">
                            <span>Reset template</span>
                        </button>
                        <textarea data-name="txtTemplate"
                            style="width: calc(100% - 4em); height: 150px; display: none; margin-left: 4em; margin-bottom: 2em;"></textarea>
                    </div>
                </template>
                <div>
                    <div class="sectionTitleContainer flex align-items-center">
                        <h4>Notification Types</h4>
                        <a is="emby-linkbutton" rel="noopener noreferrer"
                            class="raised button-alt headerHelpButton emby-button" target="_blank"
                            href="https://github.com/RomainPierre7/jellyfin-plugin-TelegramNotifier/blob/main/DefaultMessages.md">
                            Default message guide </a>
                    </div>
                    <div class="label" style="margin-bottom: 2em; margin-top: 1em;">
                        You can edit messages (personalization, translation, etc.). The important thing is that if you
                        want to use dynamic data, you must respect the {} placeholders in your personalized message.
                        To help you, you'll find some examples in this guide :
                    </div>
                    <div data-name="notificationTypeContainer">
                    </div>
                </div>
                <div>
                    <button id="saveButton" is="emby-button" type="submit" class="raised block emby-button">
                        <span>Save</span>
                    </button>
                </div>
        </div>
        </form>
    </div>
</div>
</div>